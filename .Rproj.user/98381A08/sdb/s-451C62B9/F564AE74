{
    "contents" : "---\ntitle: \"Reproducible Research: Peer Assessment 1\"\noutput: \n  html_document:\n    keep_md: true\n---\n\n\n## Loading and preprocessing the data\nFirst, we load the csv file.\n```{r}\na <- read.csv(\"activity.csv\")\n```\n\n## What is mean total number of steps taken per day?\nTo calculate the number of steps taken per day, we will first aggregate the data by date, then display a histogram.  *dsum* is the summary by day.\n\n```{r}\ndsum = aggregate(steps ~ date, a, sum)\nhist(dsum$steps, 10, main=\"Total Steps Per Day (10/2 - 11/29)\", xlab=\"Number of Steps\")\n```\n\nWe would also like to know the mean and median steps per day so we calculate those as well:\n```{r}\nmean(dsum$steps)\nmedian(dsum$steps)\n```\n\n\n\n## What is the average daily activity pattern?\nTo analyze the daily patterns, we will aggregate the data by interval.  *isum* will contain this aggregation.  Once we have aggregated, we will display a plot\n```{r}\nisum = aggregate(steps ~ interval, a, mean)\n\nlibrary(ggplot2)\nggplot(df, aes(x=isum$interval, y = isum$steps, group = 1)) + geom_line()\n```\n\nWe would now like to answer the question \"Which 5-minute interval, on average across all the days in the dataset, contains the maximum number of steps?\"\n\nTo do this, we will, determine the highest value, then locate the interval in *isum* that contains that value:\n\n```{r}\n\nhighest = max(isum$steps)\nmax = subset(isum, steps == highest)\nmax\n```\n\nFrom this, we see that the interval 08:35-08:40 contains the highest number of steps across all days with an average of 206 steps.\n\n## Imputing missing values\nWe would all now like to replace all missing values (**na**) with the average value for the interval.\n\n```{r}\n#loop through every row and if the number of steps is missing\n#look up the average value for that interval and replace the \n#missing value with the average.\nfor (row in 1:nrow(a2)) {\n  if (is.na(a2[row,]$steps) == TRUE) {\n    # get the interval that is missing the value\n    i <- a2[row,\"interval\"]\n    \n    #determine the average value by looking up in isum\n    iavg = isum[isum$interval == i, \"steps\"]\n    \n    #replace the value\n    a2[row,\"steps\"] <- iavg    \n  }\n}\n```\n\nNow that we have done that, we will re-aggregate by day, then display a graph of the total steps per day to compare to the first graph.\n\n\n```{r}\n\ndsum = aggregate(steps ~ date, a2, sum)\nhist(dsum$steps, 10, main=\"Total Steps Per Day (with na replacement)\", xlab=\"Number of Steps\")\n```\n\nWe will also recompute the mean and median values:\n\n```{r}\nmean(dsum$steps)\nmedian(dsum$steps)\n```\n\nWe see that the mean has remained unchanged, however the median is now equal to the mean.\n\n## Are there differences in activity patterns between weekdays and weekends?\n\nTo compare the paterns between weekdays and weekends, we will introduce a variable that reflects the day type of each date.\n\n```{r}\n\n# Store the day of the week of each date\na2$day.of.week= weekdays(as.Date(a$date))\n#initialize everything to weekdays\na2$day.type = \"weekday\"\n#change Saturdays and Sundays to weekends\na2[a2$day.of.week %in% c(\"Saturday\", \"Sunday\"),]$day.type = \"weekend\"\n\n#reaggregate by interval with the day type included\nisum = aggregate(steps ~ day.type+interval, a2, mean)\n```\n\nNow using the aggregated data, we produce a plot to compare the two patterns:\n\n```{r}\nlibrary(lattice)\n\nattach(isum)\nxyplot(steps~interval|day.type, type=\"l\",\n       xlab = \"Interval\", ylab=\"Steps\",\n       main=\"Steps by Interval and Day Type\", \n       layout=c(1,2))\n```\n\nLooking at the graphs, we see that on weekends, that activity is more evenly spread throughout the day than on weekdays. We also see that there is a more significant amount of activtiy between 5:00 and 7:30 on weekdays than on weekends.\n",
    "created" : 1434112480381.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "4111318794",
    "id" : "F564AE74",
    "lastKnownWriteTime" : 1434114679,
    "path" : "~/R/RepData_PeerAssessment1/PA1_template.Rmd",
    "project_path" : "PA1_template.Rmd",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_markdown"
}